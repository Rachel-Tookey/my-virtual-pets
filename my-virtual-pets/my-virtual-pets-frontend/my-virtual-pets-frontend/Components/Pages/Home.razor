@page "/"
@using my_virtual_pets_class_library.DTO
@using my_virtual_pets_frontend.Components.Icons
@using my_virtual_pets_frontend.Components.HomeComponents
@inject AuthenticationStateProvider AuthState 
@inject NavigationManager NavMan
@rendermode InteractiveServer


<PageTitle>Home | MyVirtualPets</PageTitle>
<div class="fluid-container text-center">
    <!-- heading for home page --->
    <div class="row home_row">
        <div class="col">
            <h1 class="fw-bold home_title">Create & Collect Cute Pixel Pets!</h1>
        </div>
    </div>
    
    <div class="row home_row">
        <div class="col">
            <!-- sales pitch --->
            <p class="para">
                Short description of the website selling you on it, telling you
                all about how much fun you're going to have on myvirtualpets
                how much fun we can have together woohoo hoo ohooo filler filler
                my virtual pets lots of fun great website good very
            </p>

            <!-- call to action --->
            <div id="cta-btn-container">
                <button @onclick="HandleGetStarted" class="btn">Get Started!</button>
            </div>
        </div>
    </div>
    
    <!-- "how to" -->
    <div class="row home_row" id="how-to-container">
        <div class="col-12 col-md-4">
            <img src="images/add-pet-1.png" alt="" class="img-fluid"/>
        </div>
        <div class="col-12 col-md-4">
            <img src="images/add-pet-1.png" alt="" class="img-fluid"/>
        </div>
        <div class="col-12 col-md-4">
            <img src="images/add-pet-1.png" alt="" class="img-fluid"/>
        </div>
    </div>
    
    <!-- will add this back in but don't want to have api running all the time (bad laptop) --->
    <div class="row home_row">
        <div style="width: 600px;  height: 400px; outline: solid black 2px;">
            insert carousel here
        </div>
        @*<div id="carousel" style="width:600px">
            <h4 class="pixeltext">New to the Doghouse:</h4>
            @if (_petCardDataDTOs == null)
            {
                <Cat_Loader></Cat_Loader>
            }
            else
            {
                <HomeCarousel PetCardDataDTOs="@_petCardDataDTOs"></HomeCarousel>
            }
        </div>*@
    </div>
</div>

@code {

    private List<PetCardDataDTO>? _petCardDataDTOs;

    protected override async Task OnInitializedAsync()
    {
        var getclient = new BackendClient<List<PetCardDataDTO>>($"api/pets/top10", AuthState);
        _petCardDataDTOs = await getclient.GetRequest();
    }

    private void HandleGetStarted()
    {
        NavMan.NavigateTo("/"); // where should we send them to? Add pet or login/register?
    }

}
